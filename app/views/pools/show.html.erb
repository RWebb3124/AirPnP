<div class="container show-container">
  <div class="row">
    <div class="col">
    <h1><%= @pool.title %></h1>
      <div class=container-img>
      <img src="<%= cl_image_path @pool.photo.key, height: 300, crop: :fill unless @pool.photo.key.blank?%>" />
      <div style="width: 300px; height: 300px;" id="map"
        data-controller="map"
        data-map-marker-value="<%= @marker.to_json %>"
        data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>
    </div>
    <div class= container-text>
      <div class= "col">
        <p><%= @pool.description %></p>
        <p><strong><%= @pool.address %></strong></p>
        <h5><strong>Capacity:</strong> <%= @pool.capacity %> people</h5>
        <h2>Price per hour: â‚¬<%= @pool.price %></h3>
      </div>
    </div>
    <div class= "container-btn">
      <div class="col">
        <div class="d-grid gap-2 d-md-block">
          <%= link_to "Book pool", new_pool_booking_path, class: "btn btn-success" %>
          <%= link_to "Back to search", pools_path, class: "btn btn-primary" %>
          </div>
        </div>
       </div>
      </div>
      <div class="col-12 col-sm-6">
        <% if @pool.reviews.empty? %>
          <small class="text-muted"><em>Be the first one to review this pool!</em></small>
        <% end %>
        <% if @pool.reviews.any?%>
          <h3> All reviews for <%= @pool.title %> </h3>
          <% @pool.reviews.each do |review| %>
            <div class="review mb-3"> <h4><%= review.title %></h4>
            <% review.rating.times do %>
              <i class="fas fa-star star-blue"></i>
            <% end %>
            <small><em class="text-muted"><%= distance_of_time_in_words_to_now(review.created_at) %> ago</em></small>
            <p class="mb-0"><%= review.content %></p>
          </div>
        <% end %>
        <hr>
      <% end %>
    </div>
  </div>
</div>
